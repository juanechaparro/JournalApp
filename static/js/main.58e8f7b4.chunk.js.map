{"version":3,"sources":["firebase/firebase-config.js","types/types.js","actions/ui.js","helpers/loadNotes.js","helpers/fileUpload.js","actions/notes.js","actions/auth.js","hooks/useForm.js","components/notes/NotesAppBar.js","components/notes/NoteScreen.js","components/journal/NothingSelected.js","components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/Sidebar.js","components/journal/JournalScreen.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","reducers/uiReducers.js","reducers/notesReducer.js","store/store.js","reducers/authReducer.js","JournalApp.jsx","index.js"],"names":["initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","googleAuthProvider","GoogleAuthProvider","types","setError","err","type","payload","finishLoading","loadNotes","uid","a","getDocs","collection","notesSnap","notes","forEach","snapHijo","push","id","data","console","log","fileUpload","file","formData","FormData","append","fetch","method","body","resp","ok","json","cloudResp","secure_url","activeNote","note","addNewNote","startLoadingNotes","dispatch","setNotes","startSaveNote","getState","auth","url","noteToFirestore","noteRef","doc","updateDoc","refreshNote","Swal","fire","title","deleteNote","startLoginEmailPassword","email","password","getAuth","signInWithEmailAndPassword","then","user","login","displayName","catch","e","message","logout","useForm","initialState","useState","values","setValues","reset","newFormState","handleInputChange","target","name","value","NotesAppBar","useDispatch","active","useSelector","state","className","style","display","onChange","files","text","allowOutsideClick","willOpen","showLoading","fileUrl","close","startUploading","onClick","document","querySelector","click","NoteScreen","formValues","activeId","useRef","useEffect","current","placeholder","autoComplete","src","alt","deleteDoc","startDeleting","NothingSelected","JournalEntry","date","noteDate","moment","backgroundSize","backgroundImage","format","JournalEntries","map","Sidebar","signOut","newNote","Date","getTime","addDoc","JournalScreen","LoginScreen","loading","ui","onSubmit","preventDefault","disabled","signInWithPopup","to","RegisterScreen","msgError","password2","isFormValid","length","validator","isEmail","createUserWithEmailAndPassword","updateProfile","startRegisterWithEmailPasswordName","AuthRouter","path","element","PrivateRoute","isLoggedIn","children","PublicRoute","AppRouter","checking","setChecking","setIsLoggedIn","onAuthStateChanged","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","JournalApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.58e8f7b4.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { GoogleAuthProvider } from 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD3gSAvFIyqfq2hkSF9ylscYF0SuyQg2N4\",\r\n    authDomain: \"journal-app-7544e.firebaseapp.com\",\r\n    projectId: \"journal-app-7544e\",\r\n    storageBucket: \"journal-app-7544e.appspot.com\",\r\n    messagingSenderId: \"777955661892\",\r\n    appId: \"1:777955661892:web:6ec4e31e24e923fdf80411\"\r\n  };\r\n\r\ninitializeApp(firebaseConfig);\r\n\r\nconst db = getFirestore();\r\nconst googleAuthProvider = new GoogleAuthProvider();\r\n\r\nexport {\r\n    db,\r\n    googleAuthProvider\r\n}","export const types = {\r\n    login:'[Auth] Login',\r\n    logout:'[Auth] Logout',\r\n    uiSetError: '[UI] Set Error',\r\n    uiRemoveError:'[UI] Remove Error',\r\n    uiStartLoading: '[UI] Start loading',\r\n    uiFinishLoading: '[UI] Finish loading',\r\n\r\n    notesAddNew : '[Notes] New note',\r\n    notesActive : '[Notes] Set active note',\r\n    notesLoad : '[Notes] Load notes',\r\n    notesUpdated : '[Notes] Updated note',\r\n    notesDelete : '[Notes] Delete notes',\r\n    notesLogoutCleaning : '[Notes] Logout Cleaning',\r\n    \r\n\r\n\r\n}","import { types } from \"../types/types\";\r\n\r\nexport const setError = (err)=>({\r\ntype: types.uiSetError,\r\npayload:err\r\n\r\n});\r\nexport const removeError = ()=>({\r\n    type: types.uiRemoveError\r\n\r\n});\r\nexport const startLoading = () =>({\r\n    type: types.uiStartLoading\r\n})\r\nexport const finishLoading = () =>({\r\n    type: types.uiFinishLoading\r\n})","import { db } from \"../firebase/firebase-config\";\r\nimport { collection, getDocs} from \"firebase/firestore\"\r\nexport const loadNotes = async(uid) =>{\r\n  const notesSnap =  await getDocs(collection(db,`${uid}/journal/notes`));\r\n  const notes = [];\r\n  notesSnap.forEach(snapHijo =>{\r\n    \r\n    notes.push({\r\n      id:snapHijo.id,\r\n      ...snapHijo.data()\r\n    })\r\n  })\r\n console.log(notes);\r\n\r\n  return notes;\r\n}","export const fileUpload = async(file)=>{\r\n    const cloudUrl = 'http://api.cloudinary.com/v1_1/di2rpghps/upload';\r\n    const formData = new FormData();\r\n    formData.append('upload_preset','React-journal');\r\n    formData.append('file', file);\r\n    try{\r\n        const resp = await fetch(cloudUrl, {\r\n            method: 'POST',\r\n            body: formData\r\n        });\r\n        if(resp.ok){\r\n            const cloudResp= await resp.json();\r\n            return cloudResp.secure_url;\r\n        }else{\r\n            throw await resp.json();\r\n        }\r\n    }\r\n    catch(error){\r\n        throw error;\r\n    }\r\n    //return url\r\n}","import { db } from \"../firebase/firebase-config\";\r\nimport { collection, addDoc, doc, updateDoc, deleteDoc } from \"firebase/firestore\"\r\nimport { types } from \"../types/types\";\r\nimport { loadNotes } from \"../helpers/loadNotes\";\r\nimport Swal from \"sweetalert2\";\r\nimport { fileUpload } from \"../helpers/fileUpload\";\r\nexport const startNewNote = ()=>{\r\n    return async (dispatch,getState) =>{\r\n        const {uid} = getState().auth;\r\n        const newNote ={\r\n            title: '',\r\n            body: '',\r\n            date: new Date().getTime()\r\n        }\r\n        const doc = await addDoc(collection(db,`${uid}/journal/notes`), newNote);\r\n        dispatch(activeNote(doc.id, newNote));\r\n        dispatch(addNewNote(doc.id, newNote))\r\n    }\r\n}\r\nexport const activeNote = (id, note) =>(\r\n    {\r\n     type : types.notesActive,\r\n     payload:{\r\n         id,\r\n         ...note\r\n     }\r\n    })\r\n\r\nexport const addNewNote = (id, note)=>({\r\n    type: types.notesAddNew,\r\n    payload:{\r\n       id, ...note \r\n    }\r\n})\r\n    export const startLoadingNotes = (uid) =>{\r\n        return async(dispatch) =>{\r\n            const notes = await loadNotes(uid); \r\n            dispatch(setNotes ( notes));\r\n        }\r\n    }\r\n\r\n    export const setNotes = (notes) =>({\r\n        type:types.notesLoad,\r\n        payload:notes\r\n    })\r\n    export const startSaveNote = (note)=>{\r\n        return async(dispatch, getState) =>{\r\n            const {uid} = getState().auth\r\n            if(!note.url){\r\n                delete note.url\r\n            }\r\n            const noteToFirestore = {...note};\r\n            delete noteToFirestore.id;\r\n            const noteRef = doc(db, `${uid}/journal/notes/${note.id}`)\r\n            await updateDoc(noteRef, noteToFirestore);\r\n            dispatch(refreshNote(note.id, note));\r\n            Swal.fire(\"Saved\",note.title, \"success\");\r\n        }\r\n    }\r\n    export const refreshNote = (id,note )=>({\r\n        type: types.notesUpdated,\r\n        payload:{\r\n            id, note:{\r\n               id,\r\n               ...note \r\n            }\r\n        }\r\n    })\r\n    export const startUploading = (file)=>{\r\n        return async(dispatch, getState)=>{\r\n            const {active:activeNote} = getState().notes;\r\n            Swal.fire({\r\n                title:'Uploading...',\r\n                text:'please wait',\r\n                allowOutsideClick: false,\r\n                willOpen: ()=>{\r\n                    Swal.showLoading();\r\n                }\r\n\r\n            });\r\n            const fileUrl = await fileUpload(file);\r\n            activeNote.url =fileUrl;\r\n            dispatch(startSaveNote(activeNote));\r\n            Swal.close();\r\n        }\r\n    }\r\n    export const startDeleting = (id) =>{\r\n        return async(dispatch, getState)=>{\r\n            const {uid} = getState().auth;\r\n            const noteRef = doc(db, `${uid}/journal/notes/${id}`);\r\n            await deleteDoc(noteRef);\r\n            dispatch(deleteNote(id));\r\n        }\r\n    }\r\n    export const deleteNote = (id)=>({\r\n        type: types.notesDelete,\r\n        payload: id\r\n    })\r\n    export const noteLogout = ()=> ({\r\n        type: types.notesLogoutCleaning\r\n    })","import { googleAuthProvider } from \"../firebase/firebase-config\";\r\nimport Swal from 'sweetalert2';\r\nimport { getAuth, signInWithPopup, createUserWithEmailAndPassword,  updateProfile,  signInWithEmailAndPassword, signOut } from 'firebase/auth';\r\nimport { types } from \"../types/types\"\r\nimport { finishLoading, startLoading } from \"./ui\";\r\nimport { noteLogout } from \"./notes\";\r\n\r\n\r\nexport const startLoginEmailPassword = (email, password) =>{\r\n  return (dispatch)=>{\r\n      dispatch(startLoading());\r\n      const auth = getAuth();\r\n      signInWithEmailAndPassword(auth, email, password).then(({user})=>{\r\n        dispatch(\r\n            login(user.uid, user.displayName)\r\n        )\r\n        dispatch(finishLoading());\r\n      }).catch(e =>{\r\n          console.log(e);\r\n          dispatch(finishLoading());\r\n          Swal.fire('Error', e.message, 'error');\r\n      })\r\n\r\n        //   dispatch(login(123,'Pedro'));\r\n     \r\n  }  \r\n}\r\nexport const startRegisterWithEmailPasswordName = (email, password, name)=>{\r\n    return(dispatch) =>{\r\n        const auth = getAuth();\r\n        createUserWithEmailAndPassword(auth, email, password).then(\r\n            async({user}) =>{\r\n                await updateProfile( user, {displayName: name});\r\n                dispatch(\r\n                    login(user.uid, user.displayName)\r\n                    \r\n                )\r\n            }\r\n        ).catch( e => {\r\n            console.log(e);\r\n            Swal.fire('Error', e.message, 'error');\r\n        })\r\n    }\r\n}\r\nexport const startGoogleLogin = ()=>{\r\n    return (dispatch)=>{\r\n        const auth = getAuth();\r\n        signInWithPopup(auth, googleAuthProvider)\r\n        .then(({user}) =>{\r\n            dispatch(login(user.uid, user.displayName))\r\n        });\r\n    }\r\n}\r\nexport const login = (uid, displayName) =>{\r\n    return{\r\n        type: types.login,\r\n        payload:{\r\n            uid,\r\n            displayName\r\n        }\r\n    }\r\n}\r\n\r\nexport const startLogout = () =>{\r\n    return async(dispatch) =>{\r\n        const auth = getAuth();\r\n       await signOut(auth);\r\n       dispatch(logout());\r\n       //\r\n       dispatch(noteLogout());\r\n    }\r\n}\r\n\r\nexport const logout =() =>({\r\n    type: types.logout\r\n})","\r\nimport { useState } from \"react\"\r\nexport const useForm = (initialState = {}) => {\r\n    const [values, setValues] = useState(initialState)\r\n    const reset = (newFormState = initialState)=>{\r\n        setValues(newFormState);\r\n    }\r\n    // se puede enviar como segunfo arrat directamente\r\n    const handleInputChange = ({target}) =>{\r\n        setValues({\r\n            ...values,\r\n            [target.name] :target.value\r\n        })\r\n    }\r\n\r\n    return[values, handleInputChange,reset];\r\n}","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { startSaveNote, startUploading } from '../../actions/notes';\r\n\r\nexport const NotesAppBar = () => {\r\n     const dispatch = useDispatch();\r\n     const {active} = useSelector(state =>state.notes);\r\n    const handleSave = ()=>{\r\n        dispatch(startSaveNote(active));\r\n    }\r\n    const handlePictureClick = ()=>{\r\n        document.querySelector('#fileSelector').click();\r\n    }\r\n    const handleFileChange= (e)=>{\r\n        const file = e.target.files[0];\r\n        if(file){\r\n            console.log(file);\r\n            dispatch(startUploading(file));\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"notes__appbar\">\r\n            <span>28 de agosto 2020</span>\r\n            <input type=\"file\" \r\n            style = {{display: 'none'}}\r\n            onChange={handleFileChange}\r\n            id = \"fileSelector\"\r\n            name= 'file'/>\r\n            <div>\r\n                <button \r\n                className=\"btn\"\r\n                onClick={handlePictureClick}>\r\n                    Picture\r\n                </button>\r\n                <button className=\"btn\" \r\n                onClick={handleSave}>\r\n                    Save\r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux'\r\nimport { activeNote, startDeleting } from '../../actions/notes';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { NotesAppBar } from './NotesAppBar'\r\n\r\nexport const NoteScreen = () => {\r\n    const {active: note} = useSelector(state => state.notes);\r\n    const [formValues, handleInputChange, reset ] = useForm(note);\r\n    const {body, title, id} = formValues;\r\n    const activeId = useRef(note.id);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n      if( note.id !== activeId.current){\r\n          reset(note);\r\n          activeId.current = note.id;\r\n      }\r\n    \r\n      \r\n    }, [note, reset]);\r\n\r\n    useEffect(() => {\r\n      dispatch(activeNote(formValues.id, {...formValues}) )\r\n    \r\n    }, [formValues, dispatch]);\r\n    const handleDelete = ()=>{\r\n\r\n        dispatch(startDeleting(id));\r\n    }\r\n    \r\n    return (\r\n        <div className = \"notes__main-content\">\r\n         <NotesAppBar/>  \r\n         <div className =\"notes__content\">\r\n             <input type=\"text\"\r\n             placeholder=\"  some Awesome title\"\r\n             className= \"notes__title-input\"\r\n             autoComplete=\"off\"\r\n             value ={title}\r\n             name=\"title\"\r\n             onChange ={handleInputChange}\r\n             />\r\n        <textarea\r\n        placeholder =\"What happend today\"\r\n        className=\"notes__textarea\"\r\n        value ={body}\r\n        onChange ={handleInputChange}\r\n        name= \"body\"\r\n        >\r\n        </textarea>\r\n        \r\n        {\r\n            (note.url) &&\r\n        <div className=\"notes__image\">\r\n            <img src={note.url}\r\n            alt=\"casa\" />\r\n        </div>\r\n        }\r\n         </div>\r\n         <button className='btn btn-danger' onClick={handleDelete}>\r\n            Delete\r\n         </button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport const NothingSelected = () => {\r\n    return (\r\n        <div className= \"nothing__main-content\">\r\n            <p>\r\n              Select something  \r\n              <br />\r\n              pr create an entry!\r\n            </p>\r\n\r\n            <i className =\"far fa-star fa-4x mt-5\"></i>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport moment from 'moment'\r\nimport { activeNote } from '../../actions/notes';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport const JournalEntry = ({id, date, title, body, url}) => {\r\n    const noteDate = moment(date);\r\n    const dispatch = useDispatch();\r\n    const handleEntryClick = ()=>{\r\n        // dispatch\r\n        dispatch(activeNote(id,{id, date, title, body, url}));\r\n    }\r\n\r\n    return (\r\n        <div className = \"journal__entry pointer animate__animated animate__fadeIn animate__faster\"\r\n         onClick={handleEntryClick}>\r\n            {\r\n                url &&\r\n                <div className =\"journal__entry-picture\"\r\n            style= {{\r\n                backgroundSize: 'cover',\r\n                backgroundImage: `url(${url})`\r\n            }} >\r\n                \r\n            </div>}\r\n            <div className=\"journal__entry-body\">\r\n                <p className = \"journal__entry-title\">\r\n                   {title}\r\n                </p>\r\n                <p className = \"journal__entry-content\">\r\n                    {body}\r\n                     </p>\r\n\r\n            </div>\r\n            <div className =\"journal__entry-date-box\">\r\n                <span>{noteDate.format(\"dddd\")}</span>\r\n                <h4>{noteDate.format(\"Do\")}\r\n                </h4>\r\n                <h4>28</h4>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { JournalEntry } from './JournalEntry';\r\n\r\nexport const JournalEntries = () => {\r\n   const {notes} =  useSelector(state => state.notes);\r\n   \r\n    return (\r\n        <div className = \"journal__entries \">\r\n            {\r\n                notes.map(note =>(\r\n                    <JournalEntry key ={note.id}\r\n                    {...note}/>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startLogout } from '../../actions/auth';\r\nimport { startNewNote } from '../../actions/notes';\r\nimport { JournalEntries } from './JournalEntries'\r\n\r\nexport const Sidebar = () => {\r\n    \r\n    const {name} = useSelector(state => state.auth)\r\n    const dispatch = useDispatch();\r\n    const handleLogout =() =>{\r\n        dispatch( startLogout());\r\n    }\r\n    const handleAddNew = () =>{\r\n        dispatch(startNewNote());\r\n    }\r\n    return (\r\n        <aside className ='journal__sidebar'> \r\n        <div className = \"journal__sidebar-navbar\">\r\n            <h3 className = 'mt-5'>\r\n                <i className = \"far fa-moon\"></i>\r\n                <span> {name}</span>\r\n            </h3>\r\n            <button \r\n            onClick={handleLogout}\r\n            className = \"btn\">\r\n            Logout\r\n            </button>\r\n        </div>\r\n            <div \r\n            className = 'journal__new-entry'\r\n            onClick ={handleAddNew}>\r\n                <i className = \"far fa-calendar-plus fa-5x\"></i>\r\n                <p className = 'mt-5'>New entry</p>\r\n            </div>\r\n            <JournalEntries/>\r\n        </aside>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { NoteScreen } from '../notes/NoteScreen'\r\nimport { NothingSelected } from './NothingSelected'\r\nimport { Sidebar } from './Sidebar'\r\n\r\nexport const JournalScreen = () => {\r\n    const {active} = useSelector(state =>state.notes);\r\n    return (\r\n       \r\n        <div className = 'journal__main-content animate__animated animate__fadeIn animate__faster'>\r\n            <Sidebar/>\r\n            <main>\r\n                {\r\n                    (active \r\n                        ? (  <NoteScreen/>)\r\n                        : <NothingSelected/> )\r\n                }\r\n        \r\n          \r\n            </main>\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useForm } from '../../hooks/useForm'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { startGoogleLogin, startLoginEmailPassword } from '../../actions/auth'\r\nexport const LoginScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {loading} = useSelector(state => state.ui);\r\n    const [formValues, handleInputChange] = useForm(\r\n        {\r\n            email:'juane@gmail.com',\r\n            password:'123456'\r\n        }\r\n    );\r\n    const{email,password} = formValues;\r\n    const handleLogin = (e)=>{\r\n        e.preventDefault();\r\n        // console.log(123,password);\r\n\r\n        dispatch(startLoginEmailPassword(email, password));\r\n    }\r\n    const handleGoogleLogin = ()=>{\r\n       \r\n        dispatch(startGoogleLogin());\r\n    }\r\n    return (\r\n        <div>\r\n           <h3 className =\"auth__title\">Login</h3>\r\n           <form onSubmit={handleLogin}\r\n           className = \"animate__animated animate__fadeIn animate__faster\">\r\n               <input type=\"\r\n               \"\r\n               placeholder = \"Email\"\r\n               name= \"email\"\r\n               className = \"auth__input\"\r\n               value={email} \r\n               onChange = {handleInputChange}/>\r\n\r\n               <input type=\"password\"\r\n               placeholder = \"Password\"\r\n               name= \"password\"\r\n               className = \"auth__input\" \r\n               value={password}\r\n               onChange = {handleInputChange}/>\r\n               <button\r\n               className = \"btn btn-primary btn-block\"\r\n                disabled={loading}\r\n               type = \"submit\">\r\n                   login\r\n                   \r\n               </button>\r\n             \r\n               <div className = \"auth__social-network\">\r\n                   <p>Login with social networks</p>\r\n                   \r\n                <div \r\n                    className=\"google-btn\"\r\n                    onClick={handleGoogleLogin}\r\n                >\r\n                    <div className=\"google-icon-wrapper\">\r\n                        <img className=\"google-icon\" src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" alt=\"google button\" />\r\n                    </div>\r\n                    <p className=\"btn-text\">\r\n                        <b>Sign in with google</b>\r\n                    </p>\r\n                </div>\r\n               </div>\r\n               <Link to = \"/auth/register\"\r\n               className = 'link'>\r\n                   Create new account\r\n               </Link>\r\n           </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport validator from 'validator'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { removeError, setError } from '../../actions/ui';\r\nimport { startRegisterWithEmailPasswordName } from '../../actions/auth';\r\n\r\nexport const RegisterScreen = () => {\r\n    const  dispatch = useDispatch();\r\n    const {msgError} = useSelector(state => state.ui);\r\n    const [formValues, handleInputChange] = useForm(\r\n        {\r\n            name:'juan',\r\n            email:'juan@gmail.com',\r\n            password:'123456',\r\n            password2:'123456'\r\n        }\r\n    );\r\n    const{name, email,password,password2} = formValues;\r\n    const handleRegister = (e)=>{\r\n        e.preventDefault();\r\n        console.log( name,\r\n        email,\r\n        password,\r\n        password2);\r\n        if(isFormValid()){\r\n            dispatch(startRegisterWithEmailPasswordName(email, password, name));\r\n        }\r\n\r\n        // \r\n    }\r\n    const isFormValid = ()=>{\r\n        if(name.length === 0){\r\n            // console.log('name required')\r\n            dispatch(setError('Name is required'));\r\n            return false\r\n         \r\n        }\r\n        else if(!validator.isEmail(email)){\r\n            \r\n            dispatch(setError('email no valido'))\r\n            return false;\r\n        }\r\n        else if (password2 !== password || password.length < 5){\r\n            \r\n            dispatch(setError(\"password should  match ans more than 6 charcters\"));\r\n            return false;\r\n        }\r\n        dispatch(removeError());\r\n        return true\r\n    }\r\n    return (\r\n        <div>\r\n        <h3 className =\"auth__title\">Register</h3>\r\n        <form onSubmit={handleRegister}\r\n         className = \"animate__animated animate__fadeIn animate__faster\">\r\n            {\r\n                msgError &&\r\n                <div className =\"auth__alert-error\">\r\n                {msgError}\r\n            </div>\r\n            }\r\n        <input type=\"text\"\r\n            placeholder = \"Name\"\r\n            name= \"name\"\r\n            className = \"auth__input\" \r\n            value={name}\r\n            onChange= {handleInputChange}/>\r\n            <input type=\"\r\n            \"\r\n            placeholder = \"Email\"\r\n            name= \"email\"\r\n            className = \"auth__input\"\r\n            value={email}\r\n            onChange= {handleInputChange} />\r\n            <input type=\"password\"\r\n            placeholder = \"Password\"\r\n            name= \"password\"\r\n            className = \"auth__input\" \r\n            value={password}\r\n            onChange= {handleInputChange}/>\r\n\r\n            <input type=\"password\"\r\n            placeholder = \"Confirm password\"\r\n            name= \"password2\"\r\n            className = \"auth__input\" \r\n            value={password2}\r\n            onChange= {handleInputChange}/>\r\n\r\n            <button\r\n            className = \"btn btn-primary btn-block mb-5\"\r\n\r\n            type = \"submit\">\r\n                Register\r\n            </button>\r\n          \r\n           \r\n            <Link to = \"/auth/login\"\r\n            className = 'link mt-5'>\r\n                Alredy registered?\r\n            </Link>\r\n        </form>\r\n     </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport { LoginScreen } from '../components/auth/LoginScreen';\r\nimport { RegisterScreen } from '../components/auth/RegisterScreen';\r\nexport const AuthRouter = () => {\r\n    return (\r\n        <div className = \"auth__main\">\r\n            <div className = \"auth__box-container\">\r\n            <Routes>\r\n           <Route path= \"login\" element={<LoginScreen/>}> </Route>\r\n           <Route path= \"register\" element={<RegisterScreen/>}></Route>\r\n          </Routes>\r\n       \r\n            </div>\r\n              \r\n        </div>\r\n\r\n  \r\n    )\r\n}\r\n\r\n","import React from 'react'\r\nimport { Navigate } from 'react-router-dom';\r\n\r\n\r\n\r\nexport const PrivateRoute = ({isLoggedIn, children}) => {\r\n    \r\n    \r\n    return isLoggedIn ? children : <Navigate to = \"/auth/login\"/>\r\n}\r\n","import React from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\n\r\nexport const PublicRoute = ({isLoggedIn,children}) => {\r\n   \r\n    return isLoggedIn ? <Navigate to = \"/\"/> : children\r\n}\r\n","import { getAuth, onAuthStateChanged } from '@firebase/auth';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport { login } from '../actions/auth';\r\nimport { startLoadingNotes } from '../actions/notes';\r\n\r\nimport { JournalScreen } from '../components/journal/JournalScreen';\r\n\r\nimport { AuthRouter } from './AuthRouter';\r\nimport { PrivateRoute } from './PrivateRoute';\r\nimport { PublicRoute } from './PublicRoute';\r\n// import { AuthRouter } from './AuthRouter';\r\n\r\nexport const AppRouter = () => {\r\n  const [checking, setChecking] = useState(true);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const dispatch = useDispatch();\r\n  useEffect(()=>{\r\n    const auth = getAuth();\r\n    onAuthStateChanged(auth, async(user)=>{\r\n      // el signo de interrogacion evalua si es un nullo un undefiend para no ejecutar\r\n      if(user?.uid){\r\n        dispatch(login(user.uid, user.displayName));\r\n        setIsLoggedIn(true);\r\n        dispatch(startLoadingNotes(user.uid));\r\n\r\n      }else{\r\n        setIsLoggedIn(false);\r\n      }\r\n\r\n      setChecking(false);\r\n    } );\r\n  },[dispatch, setChecking, setIsLoggedIn])\r\n  if(checking){\r\n    return(\r\n      <h1>Wait...</h1>\r\n    )\r\n  }\r\n    return (\r\n        <Routes>\r\n        <Route path=\"/auth/*\" element={\r\n        <PublicRoute isLoggedIn={isLoggedIn}>\r\n          <AuthRouter />\r\n        </PublicRoute>\r\n        }>\r\n        </Route>\r\n        <Route path=\"/\" element={\r\n          <PrivateRoute isLoggedIn={isLoggedIn} >\r\n        <JournalScreen/>\r\n        </PrivateRoute>}/>\r\n      \r\n        {/* <Route path=\"*\" element={<Navigate to=\"/\" />} /> */}\r\n      </Routes>\r\n    )\r\n}\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState ={\r\n    loading: false,\r\n    msgError: null\r\n}\r\nexport const uiReducer = (state = initialState, action) =>{\r\n \r\n    switch (action.type){\r\n    case types.uiSetError:\r\n        return {\r\n            ...state,\r\n            msgError: action.payload\r\n       }\r\n       case types.uiRemoveError:\r\n           return{\r\n               ...state,\r\n               msgError: null\r\n           }\r\n    case types.uiStartLoading:\r\n        return{\r\n            ...state,\r\n            loading:true\r\n        }\r\n    case types.uiFinishLoading:\r\n            return{\r\n                ...state,\r\n                loading:false\r\n            }\r\n    \r\n    default:\r\n        return state;\r\n    }\r\n}","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n    notes : [],\r\n    active:null\r\n}\r\n\r\nexport const notesReducer = (state = initialState, action)=>{\r\n    switch(action.type){\r\n        case types.notesActive:\r\n            return{\r\n                ...state,\r\n                active:{\r\n                    ...action.payload\r\n                }\r\n            }\r\n        case types.notesAddNew:\r\n            return{\r\n                ...state,\r\n                notes:[action.payload, ...state.notes]\r\n            }\r\n        case types.notesLoad:\r\n            return{\r\n                ...state,\r\n                notes:[...action.payload]\r\n            }\r\n        case types.notesUpdated:\r\n            return{\r\n                ...state,\r\n                notes:state.notes.map(\r\n                    note => note.id === action.payload.id\r\n                    ? action.payload.note\r\n                    :note\r\n                )\r\n            };\r\n        case types.notesDelete:\r\n            return{\r\n                ...state,\r\n                active:null,\r\n                notes:state.notes.filter(note => note.id !== action.payload)\r\n\r\n            }\r\n    \r\n        case types.notesLogoutCleaning:\r\n            return{\r\n                ...state,\r\n                active:null,\r\n                notes:[]\r\n            }\r\n        \r\n        default :\r\n\r\n        return state;\r\n    }\r\n}\r\n\r\n\r\n","import thunk from 'redux-thunk'\r\nimport {createStore, combineReducers,applyMiddleware, compose} from 'redux'\r\nimport { authReducer } from '../reducers/authReducer';\r\n\r\nimport { uiReducer } from '../reducers/uiReducers';\r\nimport { notesReducer } from '../reducers/notesReducer';\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n// const store = createStore(rootReducer, applyMiddleware(thunk))\r\nconst reducers = combineReducers({\r\n  auth: authReducer,\r\n  ui: uiReducer,\r\n  notes:notesReducer\r\n\r\n});\r\nexport const store = createStore( reducers,composeEnhancers(applyMiddleware(thunk)));","import { types } from \"../types/types\";\r\n\r\n\r\nexport const authReducer = (state ={}, action) =>{\r\n  switch(action.type){\r\n      case types.login:\r\n          return{\r\n              uid:action.payload.uid,\r\n              name:action.payload.displayName\r\n          }\r\n          case types.logout:\r\n              return{}\r\n          \r\n      default:\r\n          return state;\r\n           \r\n\r\n  }\r\n}","import React from 'react'\r\nimport  {Provider} from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { AppRouter } from './routers/AppRouter'\r\nimport { store } from './store/store';\r\n\r\nexport const JournalApp = () => {\r\n    return (\r\n        <BrowserRouter>\r\n        <Provider store={store}>\r\n        <AppRouter/>\r\n        </Provider>\r\n      \r\n        </BrowserRouter>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { JournalApp } from './JournalApp';\r\nimport './styles/styles.scss'\r\n\r\nReactDOM.render(\r\n   \r\n        <JournalApp/>\r\n        \r\n\r\n    ,document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}